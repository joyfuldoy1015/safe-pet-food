# Supabase Brands í…Œì´ë¸” ìˆ˜ì • ê°€ì´ë“œ

## ğŸ“‹ ë°˜ì˜ë˜ëŠ” í˜ì´ì§€

Supabase Table Editorì—ì„œ `brands` í…Œì´ë¸”ì„ ìˆ˜ì •í•˜ë©´ ë‹¤ìŒ í˜ì´ì§€ì— ë°˜ì˜ë©ë‹ˆë‹¤:

### 1. ë¸Œëœë“œ ëª©ë¡ í˜ì´ì§€
- **URL**: `/brands` ë˜ëŠ” `https://safe-pet-food.vercel.app/brands`
- **í‘œì‹œ ë‚´ìš©**:
  - ë¸Œëœë“œëª… (`name`)
  - ì œì¡°ì‚¬ (`manufacturer`)
  - ì„¤ëª… (`description` ë˜ëŠ” `brand_description`)
  - í‰ì  (`overall_rating`)
  - ì„¤ë¦½ì—°ë„ (`established_year`)
  - ì›ì‚°ì§€ (`country`)
  - ì œí’ˆ ë¼ì¸ (`product_lines`)
  - ì¸ì¦ (`certifications`)
  - ë¦¬ì½œ ì´ë ¥ (`recall_history`)
  - SAFI ì ìˆ˜ (ê³„ì‚°ë¨)

### 2. ë¸Œëœë“œ ìƒì„¸ í˜ì´ì§€
- **URL**: `/brands/[brandName]` ì˜ˆ: `/brands/ë¡œì–„ìºë‹Œ`
- **í‘œì‹œ ë‚´ìš©**:
  - ë¸Œëœë“œ í”„ë¡œí•„ ì„¹ì…˜:
    - ì›ì‚°ì§€, ì„¤ë¦½ì—°ë„, ì œì¡° ê³µì¥
    - **ğŸ“– {ë¸Œëœë“œëª…}ì— ëŒ€í•´ì„œ** - `brand_description` í•„ë“œ
    - **ğŸ­ ì œì¡° ë° ì†Œì‹±ì— ëŒ€í•´ì„œ** - `manufacturing_info` í•„ë“œ
    - ë¦¬ì½œ ì´ë ¥
    - ì‹ ë¢°í•˜ëŠ” ì´ìœ  (`brand_pros`)
    - ë³´ì™„í•˜ë©´ ì¢‹ì€ ì  (`brand_cons`)
  - íˆ¬ëª…ì„± ì ìˆ˜
  - ì œí’ˆ ë¼ì¸ì—…
  - ì œí’ˆêµ°ë³„ ìƒì„¸ ë¶„ì„
  - SAFI ì•ˆì „ì„± ì ìˆ˜
  - ë¸Œëœë“œ ì§ˆë¬¸í•˜ê¸°

---

## âš¡ ë°°í¬ í•„ìš” ì—¬ë¶€

### âŒ ë°°í¬ë¥¼ ìƒˆë¡œ í•  í•„ìš” ì—†ìŠµë‹ˆë‹¤!

**ì´ìœ :**
- APIëŠ” **ëŸ°íƒ€ì„ì—** Supabaseì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤
- ë¹Œë“œ íƒ€ì„ì— ë°ì´í„°ë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- Supabase í…Œì´ë¸”ì„ ìˆ˜ì •í•˜ë©´ ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤

---

## â±ï¸ ë°˜ì˜ ì‹œê°„

### ì¦‰ì‹œ ë°˜ì˜ (ìºì‹œ ê³ ë ¤)

1. **API ìºì‹œ**: ìµœëŒ€ 60ì´ˆ
   - `Cache-Control: public, s-maxage=60, stale-while-revalidate=300`
   - ì²« ìš”ì²­ í›„ 60ì´ˆ ë™ì•ˆì€ ìºì‹œëœ ë°ì´í„°ë¥¼ ì‚¬ìš©
   - 60ì´ˆ í›„ì—ëŠ” ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´

2. **ë¸Œë¼ìš°ì € ìºì‹œ**: ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¦„
   - ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ìºì‹œí•  ìˆ˜ ìˆìŒ

### ì¦‰ì‹œ í™•ì¸í•˜ëŠ” ë°©ë²•

1. **ë¸Œë¼ìš°ì € ê°•ë ¥ ìƒˆë¡œê³ ì¹¨**
   - Mac: `Cmd + Shift + R`
   - Windows: `Ctrl + Shift + R`
   - ë˜ëŠ” ê°œë°œì ë„êµ¬ â†’ Network íƒ­ â†’ "Disable cache" ì²´í¬

2. **API ì§ì ‘ í˜¸ì¶œ**
   ```bash
   curl "https://safe-pet-food.vercel.app/api/brands"
   ```

3. **ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸**
   ```javascript
   fetch('/api/brands')
     .then(res => res.json())
     .then(data => console.log('ë¸Œëœë“œ ë°ì´í„°:', data))
   ```

---

## ğŸ” ìˆ˜ì • ê°€ëŠ¥í•œ í•„ë“œ

Supabase Table Editorì—ì„œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì£¼ìš” í•„ë“œ:

| í•„ë“œëª… | í‘œì‹œ ìœ„ì¹˜ | ì„¤ëª… |
|--------|----------|------|
| `name` | ëª©ë¡, ìƒì„¸ | ë¸Œëœë“œëª… |
| `manufacturer` | ëª©ë¡, ìƒì„¸ | ì œì¡°ì‚¬ |
| `brand_description` | ìƒì„¸ í˜ì´ì§€ | "ğŸ“– {ë¸Œëœë“œëª…}ì— ëŒ€í•´ì„œ" ì„¹ì…˜ |
| `manufacturing_info` | ìƒì„¸ í˜ì´ì§€ | "ğŸ­ ì œì¡° ë° ì†Œì‹±ì— ëŒ€í•´ì„œ" ì„¹ì…˜ |
| `country` | ëª©ë¡, ìƒì„¸ | ì›ì‚°ì§€ |
| `established_year` | ëª©ë¡, ìƒì„¸ | ì„¤ë¦½ì—°ë„ |
| `overall_rating` | ëª©ë¡, ìƒì„¸ | í‰ì  |
| `product_lines` | ëª©ë¡, ìƒì„¸ | ì œí’ˆ ë¼ì¸ (ë°°ì—´) |
| `certifications` | ëª©ë¡, ìƒì„¸ | ì¸ì¦ (ë°°ì—´) |
| `recall_history` | ëª©ë¡, ìƒì„¸ | ë¦¬ì½œ ì´ë ¥ (JSON ë°°ì—´) |
| `brand_pros` | ìƒì„¸ í˜ì´ì§€ | ì‹ ë¢°í•˜ëŠ” ì´ìœ  (ë°°ì—´) |
| `brand_cons` | ìƒì„¸ í˜ì´ì§€ | ë³´ì™„í•˜ë©´ ì¢‹ì€ ì  (ë°°ì—´) |
| `image` | ëª©ë¡, ìƒì„¸ | ë¸Œëœë“œ ì´ë¯¸ì§€ URL |

---

## âœ… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

Supabaseì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•œ í›„:

1. [ ] Supabase Table Editorì—ì„œ ìˆ˜ì • ë‚´ìš© í™•ì¸
2. [ ] ë¸Œë¼ìš°ì € ê°•ë ¥ ìƒˆë¡œê³ ì¹¨ (`Cmd+Shift+R` ë˜ëŠ” `Ctrl+Shift+R`)
3. [ ] ë¸Œëœë“œ ëª©ë¡ í˜ì´ì§€ (`/brands`) í™•ì¸
4. [ ] ë¸Œëœë“œ ìƒì„¸ í˜ì´ì§€ (`/brands/[brandName]`) í™•ì¸
5. [ ] ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network â†’ `/api/brands` Response í™•ì¸

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë°ì´í„°ê°€ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” ê²½ìš°

1. **ìºì‹œ ë¬¸ì œ**
   - ë¸Œë¼ìš°ì € ê°•ë ¥ ìƒˆë¡œê³ ì¹¨
   - ê°œë°œì ë„êµ¬ â†’ Network â†’ "Disable cache" ì²´í¬
   - ì‹œí¬ë¦¿ ëª¨ë“œì—ì„œ í™•ì¸

2. **Supabase ë°ì´í„° í™•ì¸**
   - Supabase Table Editorì—ì„œ ì‹¤ì œë¡œ ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸
   - `brand_description` í•„ë“œê°€ NULLì´ ì•„ë‹Œì§€ í™•ì¸

3. **API ì‘ë‹µ í™•ì¸**
   - ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network â†’ `/api/brands` í´ë¦­
   - Response íƒ­ì—ì„œ ë°ì´í„° í™•ì¸
   - `description` ë˜ëŠ” `brand_description` í•„ë“œ í™•ì¸

4. **í™˜ê²½ ë³€ìˆ˜ í™•ì¸**
   - Vercel Dashboard â†’ Settings â†’ Environment Variables
   - `NEXT_PUBLIC_SUPABASE_URL`ê³¼ `NEXT_PUBLIC_SUPABASE_ANON_KEY` í™•ì¸

---

## ğŸ“ ì°¸ê³  ì‚¬í•­

### API ìºì‹œ ì„¤ì •

```typescript
// app/api/brands/route.ts
headers: {
  'Cache-Control': 'public, s-maxage=60, stale-while-revalidate=300'
}
```

- **s-maxage=60**: CDN/í”„ë¡ì‹œ ìºì‹œ 60ì´ˆ
- **stale-while-revalidate=300**: 60ì´ˆ í›„ì—ë„ 300ì´ˆ ë™ì•ˆì€ stale ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ë©´ì„œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìƒˆ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

### ë°ì´í„° íë¦„

```
Supabase Table Editor (ìˆ˜ì •)
    â†“
Supabase Database
    â†“
API Route (/api/brands) - ëŸ°íƒ€ì„ì— ì¡°íšŒ
    â†“
Frontend (/brands, /brands/[brandName]) - API í˜¸ì¶œ
    â†“
ì‚¬ìš©ì í™”ë©´
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›”

