"use strict";(()=>{var e={};e.id=7186,e.ids=[7186],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1017:e=>{e.exports=require("path")},7259:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>w,originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>_,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>m});var a={};t.r(a),t.d(a,{GET:()=>d,POST:()=>c});var i=t(5419),s=t(9108),n=t(9678),o=t(8070);let u=require("fs/promises");var p=t(1017);async function c(e){try{let r=await e.json();for(let e of["brand_id","user_name","rating_palatability","rating_repurchase","rating_convenience","comment"])if(!r[e])return o.Z.json({error:`Missing required field: ${e}`},{status:400});let t=(0,p.join)(process.cwd(),"data","reviews.json"),a=JSON.parse(await (0,u.readFile)(t,"utf8")),i={id:(a.length+1).toString(),brand_id:r.brand_id,user_id:`user_${Date.now()}`,user_name:r.user_name,rating_palatability:parseInt(r.rating_palatability),rating_repurchase:parseInt(r.rating_repurchase),rating_convenience:parseInt(r.rating_convenience),comment:r.comment,pet_breed:r.pet_breed||"",pet_age:r.pet_age||"",date_created:new Date().toISOString().split("T")[0],verified_purchase:!1};return a.push(i),await (0,u.writeFile)(t,JSON.stringify(a,null,2)),o.Z.json({success:!0,review:i,message:"Review submitted successfully!"})}catch(e){return console.error("Error submitting review:",e),o.Z.json({error:"Failed to submit review"},{status:500})}}async function d(){try{let e=(0,p.join)(process.cwd(),"data","reviews.json"),r=JSON.parse(await (0,u.readFile)(e,"utf8"));return o.Z.json(r)}catch(e){return o.Z.json({error:"Failed to fetch reviews"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/reviews/route",pathname:"/api/reviews",filename:"route",bundlePath:"app/api/reviews/route"},resolvedPagePath:"/Users/doheekong/Downloads/spf_cursor_test/app/api/reviews/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:_,staticGenerationAsyncStorage:g,serverHooks:v,headerHooks:w,staticGenerationBailout:m}=l,h="/api/reviews/route";function f(){return(0,n.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:g})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206],()=>t(7259));module.exports=a})();